(function(e){function t(t){for(var a,r,s=t[0],i=t[1],u=t[2],d=0,p=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);l&&l(t);while(p.length)p.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,r=1;r<n.length;r++){var s=n[r];0!==o[s]&&(a=!1)}a&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},o={app:0},c=[];function s(e){return i.p+"js/"+({http:"http"}[e]||e)+"."+{"chunk-0aa814e2":"bfda1033","chunk-4701d020":"cfd31b2a","chunk-63e48a65":"ef4d020d","chunk-5377297a":"e964c43f","chunk-77a3540c":"cad34bf5",http:"87d58dce","chunk-2d0d0901":"2313d760","chunk-326507da":"d328c17c","chunk-cf228d64":"b487b7f5","chunk-302c742e":"3bae1c39","chunk-e1d82b1e":"bf8737d8","chunk-6dc5b050":"ac163a46","chunk-d7579c94":"368ae988","chunk-741a8ba8":"02648354"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-0aa814e2":1,"chunk-4701d020":1,"chunk-63e48a65":1,"chunk-5377297a":1,"chunk-77a3540c":1,"chunk-326507da":1,"chunk-cf228d64":1,"chunk-302c742e":1,"chunk-e1d82b1e":1,"chunk-6dc5b050":1,"chunk-d7579c94":1,"chunk-741a8ba8":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({http:"http"}[e]||e)+"."+{"chunk-0aa814e2":"0e294daf","chunk-4701d020":"cd07d9cd","chunk-63e48a65":"759cee8b","chunk-5377297a":"3385537c","chunk-77a3540c":"3e507f7b",http:"31d6cfe0","chunk-2d0d0901":"31d6cfe0","chunk-326507da":"a76ab92b","chunk-cf228d64":"95c1ac14","chunk-302c742e":"98f2ae90","chunk-e1d82b1e":"36c6cd60","chunk-6dc5b050":"98f2ae90","chunk-d7579c94":"ea59a4d8","chunk-741a8ba8":"66f8147b"}[e]+".css",o=i.p+a,c=document.getElementsByTagName("link"),s=0;s<c.length;s++){var u=c[s],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===a||d===o))return t()}var p=document.getElementsByTagName("style");for(s=0;s<p.length;s++){u=p[s],d=u.getAttribute("data-href");if(d===a||d===o)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var a=t&&t.target&&t.target.src||o,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete r[e],l.parentNode.removeChild(l),n(c)},l.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(l)})).then((function(){r[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var c=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=c);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=s(e);var p=new Error;u=function(t){d.onerror=d.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",p.name="ChunkLoadError",p.type=a,p.request=r,n[1](p)}o[e]=void 0}};var l=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="./dist/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var p=0;p<u.length;p++)t(u[p]);var l=d;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);var a=n("2b0e"),r=n("f309");a["a"].use(r["a"]);var o=new r["a"]({icons:{iconfont:"mdi"}}),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{light:"",app:""}},[n("v-toolbar",[n("v-toolbar-title",{staticClass:"headline text-uppercase"},[n("span",[e._v("Test")]),n("span",{staticClass:"font-weight-light"},[e._v("TODO")])]),n("v-spacer"),n("v-btn",{attrs:{text:"",href:"https://github.com/kostia7alania/php-vue-todo",target:"_blank"}},[n("v-icon",[e._v("code")]),n("span",{staticClass:"mr-2 ml-1"},[e._v("\n        Repository")])],1)],1),n("v-content",[n("section",[n("Todobook")],1),n("Footer-app"),n("Snack"),e.SHOW_LOGIN_DIALOG?n("Login"):e._e()],1)],1)},s=[],i=n("2f62"),u={name:"App",props:["props"],components:{Todobook:()=>n.e("chunk-0aa814e2").then(n.bind(null,"4ffd")),"Footer-app":()=>n.e("chunk-5377297a").then(n.bind(null,"f124")),Snack:()=>n.e("chunk-77a3540c").then(n.bind(null,"be3d")),Login:()=>Promise.all([n.e("chunk-4701d020"),n.e("chunk-63e48a65")]).then(n.bind(null,"578a"))},data(){return{}},mounted(){const e=this.props;Object.keys(e).forEach(t=>this.$store.commit("SET_INIT_PARAMS",{key:t,val:e[t]}))},computed:{...Object(i["e"])(["SHOW_LOGIN_DIALOG"])}},d=u,p=n("2877"),l=n("6544"),h=n.n(l),_=n("7496"),f=n("8336"),S=n("a75b"),E=n("132d"),I=n("2fa4"),k=n("71d9"),m=n("2a7f"),b=Object(p["a"])(d,c,s,!1,null,null,null),g=b.exports;h()(b,{VApp:_["a"],VBtn:f["a"],VContent:S["a"],VIcon:E["a"],VSpacer:I["a"],VToolbar:k["a"],VToolbarTitle:m["a"]});n("0e44");a["a"].use(i["a"]);const T=async()=>"axios"in window||await n.e("http").then(n.bind(null,"d766")).then(e=>window.axios=e.default);T();const O=e=>{const t=e.response&&401===e.response.status?e.response.data||"Необходимо быть администратором для этого действия":e.message;return store.commit("SET_SNACK_MSG",t),!1};var v=window.store=new i["a"].Store({state:{ITEMS:[],SEARCH_BY:"",IS_LOADING:!1,snackMsg:!1,BACKEND_URL:"https://todo.kostia7alania.ru/",SHOW_LOGIN_DIALOG:!1,IS_LOGGED_IN:!1,IS_ADMIN:!1},getters:{COUNT_FILTERED_ITEMS(e,t){return t.FILTERED_ITEMS.length},FILTERED_ITEMS(e){let t=e.ITEMS;const n=e.SEARCH_BY;if(n&&(t=t.filter(e=>e[n].match(new RegExp(n,"gim")))),!t.length)return[];const a=(e,t,n="name")=>{if("string"==typeof e[n]){if(e[n]&&e[n].toUpperCase()<t[n]&&t[n].toUpperCase())return-1;if(e[n]&&e[n].toUpperCase()>t[n]&&t[n].toUpperCase())return 1}else{if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0};return t.sort(a)},SNACK_MSG(e){return e.snackMsg}},mutations:{SET_IS_LOADING_ON(e){e.IS_LOADING=!0},SET_IS_LOADING_OFF(e){e.IS_LOADING=!1},SET_SHOW_LOGIN_DIALOG(e,t){e.SHOW_LOGIN_DIALOG=t},SET_IS_LOGGED_IN(e,t){e.IS_LOGGED_IN=t},SET_IS_ADMIN(e,t){e.IS_ADMIN=!!t},SET_INIT_PARAMS(e,{key:t,val:n}){e[t]=n},SET_SEARCH_BY(e,t){e.SEARCH_BY=t},SET_SNACK_MSG(e,t){return e.snackMsg=t,t},SET_ITEMS(e,t){this._vm.$set(e,"ITEMS",t)}},actions:{async CREATE_ITEM({state:e,commit:t,dispatch:n},a){const r=new FormData;return Object.keys(a).forEach(e=>r.append(e,a[e])),t("SET_IS_LOADING_ON"),axios.post(e.BACKEND_URL+"tasks/create",r).then(e=>n("GET_ITEMS")).catch(O).finally(e=>{return t("SET_IS_LOADING_OFF"),e})},async UPDATE_ITEM({state:e,commit:t,dispatch:n},a){const r=new FormData;return Object.keys(a).forEach(e=>r.append(e,a[e])),t("SET_IS_LOADING_ON"),axios.post(e.BACKEND_URL+"tasks/update/"+a.id,r).then(e=>n("GET_ITEMS")).catch(O).finally(e=>{return t("SET_IS_LOADING_OFF"),e})},async DELETE_ITEM({state:e,commit:t,dispatch:n},a){const r=new FormData;return r.append("id",a),t("SET_IS_LOADING_ON"),axios.post(e.BACKEND_URL+"tasks/delete/"+a,r).then(e=>{t("SET_SNACK_MSG","Contact has been deleted"),n("GET_ITEMS")}).catch(O).finally(e=>{return t("SET_IS_LOADING_OFF"),e})},GET_ITEMS({state:e,commit:t}){return t("SET_IS_LOADING_ON"),axios.post(e.BACKEND_URL+"tasks").then(e=>{t("SET_ITEMS",e.data),t("SET_SNACK_MSG","Updated")}).catch(O).finally(e=>{return t("SET_IS_LOADING_OFF"),e})},DO_LOGIN({state:e,commit:t},n){const a=new FormData;return a.append("username",n.username),a.append("password",n.password),axios.post(e.BACKEND_URL+"login",a).then(e=>{return t("SET_SNACK_MSG","Logged in!"),t("SET_IS_LOGGED_IN",!0),t("SET_IS_ADMIN",e.data.is_admin),!0}).catch(O)},LOGOUT({state:e,commit:t}){axios.get(e.BACKEND_URL+"logout").then(e=>{t("SET_SNACK_MSG","Logged out!"),t("SET_IS_LOGGED_IN",!1),t("SET_IS_ADMIN",!1)}).catch(O)}}}),A=n("9483");Object(A["a"])("./dist/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),a["a"].config.productionTip=!1,a["a"].config.devtools=!0,window.initApp=e=>new a["a"]({store:v,vuetify:o,render:t=>t(g,{props:{props:e}})}).$mount("#app")}});
//# sourceMappingURL=app.595fb3de.js.map